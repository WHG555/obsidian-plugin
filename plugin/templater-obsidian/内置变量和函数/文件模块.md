# 文件模块

该模块包含与文件相关的每个内部变量/函数。

> 函数文档使用特定的语法。更多信息 [函数文档语法](../Templater/语法.md#函数文档语法)

|                        内置变量/函数                         |                             参数                             |                             说明                             |             输出              |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: | :---------------------------: |
|                      `tp.file.content`                       |                             None                             |                        检索文件的内容                        |            `内容`             |
| `tp.file.create_new(template: TFile ⎮ string, filename?: string, open_new: boolean = false, folder?: TFolder)` | \- `template`:用于新文件内容的模板，或作为字符串的文件内容。<br/>\- `filename`: 新文件的文件名，默认为“Untitled”。<br/>\- `open_new`: 是否打开新创建的文件。**警告**: 如果使用此选项，由于命令是异步执行的，因此可以先打开文件，然后将其他命令附加到该新文件而不是前一个文件。<br/>\- `folder`: 放置新文件的文件夹，默认为黑曜石的默认位置。 |              使用指定模板或指定内容创建新文件。              |             None              |
| `tp.file.creation_date(format: string = "YYYY-MM-DD HH:mm")` | \- `format`: 格式化日期, 参考 [format reference](https://momentjs.com/docs/#/displaying/format/) |                     检索文件的创建日期。                     |      `2021-01-06 20:27`       |
|               `tp.file.cursor(order?: number)`               | \- `order`: 不同光标的顺序跳转，例如它会从 1 跳到 2 到 3，依此类推。如果以相同的顺序指定多个`tp.file.cursor`，编辑器将切换到多光标。 | 插入模板后将光标设置到此位置。您可以使用黑曜石设置中配置的热键在不同的 `tp.file.cursor` 之间导航。 |             None              |
|           `tp.file.cursor_append(content: string)`           |            \- `content`: 在活动光标后追加的内容。            |               在文件中的活动光标后附加一些内容               |             None              |
|              `tp.file.exists(filename: string)`              | \- `filename`: 我们要检查是否存在的文件的文件名，例如`myfile`。 |        检查文件是否存在。返回 `true`/`false` 布尔值。        |            `true`             |
|            `tp.file.find_tfile(filename: string)`            | - 文件名：我们要搜索并解析为 [TFile](https://github.com/obsidianmd/obsidian-api/blob/ddd50214f530d23ee21f440a9fa64f4507176871/obsidian.d.ts#L2834) 的文件名 | 搜索文件并返回其 [TFile](https://github.com/obsidianmd/obsidian-api/blob/ddd50214f530d23ee21f440a9fa64f4507176871/obsidian.d.ts#L2834) 实例。 |       `[object Object]`       |
|         `tp.file.folder(relative: boolean = false)`          |                                                              |                                                              |                               |
|       `tp.file.include(include_link: string ⎮ TFile)`        | \- `include_link`: 要包含的文件的链接，例如`[[MyFile]]` 或 [TFile](https://github.com/obsidianmd/obsidian-api/blob/ddd50214f530d23ee21f440a9fa64f4507176871/obsidian.d.ts#L2834) 对象。还支持部分或块包含，例如`[[我的文件#Section1]]` |        包括文件的链接内容。包含内容中的模板将被解析。        | `Header for all my templates` |
| `tp.file.last_modified_date(format: string = "YYYY-MM-DD HH:mm")` | \- `format`:日期格式，参考 [format reference](https://momentjs.com/docs/#/displaying/format/) |                   检索文件的最后修改日期。                   |      `2021-01-06 20:27`       |
|               `tp.file.move(new_path: string)`               | \- `path`: 文件的新 Vault 相对路径，不带文件扩展名。 **注意**：新路径需要包含文件夹**和**文件名，例如`/Notes/MyNote` |               将文件移动到所需的 Vault 位置。                |             None              |
|          `tp.file.path(relative: boolean = false)`           | \- `relative` (可选的): 如果 `true`, 只检索保管库的相对路径。 |                  检索系统上文件的绝对路径。                  |        `/path/to/file`        |
|             `tp.file.rename(new_title: string)`              |                   \- `new_title`: 新文件名                   |             重命名文件（保持相同的文件扩展名）。             |             None              |
|                    `tp.file.selection()`                     |                             None                             |                   检索活动文件的文本选择。                   |     `Some selected text`      |
|                        `tp.file.tags`                        |                             None                             |            检索文件的标签（字符串数组，逗号分隔）            |  `#note,#seedling,#obsidian`  |
|                       `tp.file.title`                        |                             None                             |                       检索文件的标题。                       |           `MyFile`            |

示例：

```js
File content: <% tp.file.content %>

File creation date: <% tp.file.creation_date() %>
File creation date with format: <% tp.file.creation_date("dddd Do MMMM YYYY HH:mm") %>

File creation: [[<% (await tp.file.create_new("MyFileContent", "MyFilename")).basename %>]]

File cursor: <% tp.file.cursor(1) %>

File cursor append: <% tp.file.cursor_append("Some text") %>
    
File existence: <% tp.file.exists("MyFile") %>

File find TFile: <% tp.file.find_tfile("MyFile").basename %>
    
File Folder: <% tp.file.folder() %>
File Folder with relative path: <% tp.file.folder(true) %>

File Include: <% tp.file.include("[[Template1]]") %>

File Last Modif Date: <% tp.file.last_modified_date() %>
File Last Modif Date with format: <% tp.file.last_modified_date("dddd Do MMMM YYYY HH:mm") %>

File Move: <% await tp.file.move("/A/B/" + tp.file.title) %>
File Move + Rename: <% await tp.file.move("/A/B/NewTitle") %>

File Path: <% tp.file.path() %>
File Path with relative path: <% tp.file.path(true) %>

File Rename: <% await tp.file.rename("MyNewName") %>
Append a "2": <% await tp.file.rename(tp.file.title + "2") %>

File Selection: <% tp.file.selection() %>

File tags: <% tp.file.tags %>

File title: <% tp.file.title %>
Strip the Zettelkasten ID of title (if space separated): <% tp.file.title.split(" ")[1] %>
```

上一节：[日期模块](日期模块.md)  下一节：[Frontmatter 模块](Frontmatter%20模块.md)
